(self.webpackChunk=self.webpackChunk||[]).push([[524],{5411:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>u});n(52675),n(89463),n(2259),n(45700),n(16280),n(76918),n(51629),n(23418),n(74423),n(23792),n(44114),n(89572),n(94170),n(62010),n(2892),n(59904),n(84185),n(40875),n(63548),n(10287),n(26099),n(60825),n(27495),n(21699),n(47764),n(25440),n(79978),n(98992),n(3949),n(23500),n(62953),n(76031);function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,d(r.key),r)}}function a(e,t,n){return t=c(t),function(e,t){if(t&&("object"==r(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,i()?Reflect.construct(t,n||[],c(e).constructor):t.apply(e,n))}function i(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(i=function(){return!!e})()}function c(e){return c=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},c(e)}function l(e,t){return l=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},l(e,t)}function s(e,t,n){return(t=d(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function d(e){var t=function(e,t){if("object"!=r(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var o=n.call(e,t||"default");if("object"!=r(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==r(t)?t:t+""}var u=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),a(this,t,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&l(e,t)}(t,e),n=t,r=[{key:"connect",value:function(){var e=this;this._connected||(this._connected=!0,this.hasIndexValue||(this.indexValue=this.listTarget.querySelectorAll("[data-collection-item]").length),this._onClick=function(t){var n=t.target.closest('.js-collection-add,[data-action~="click->form-collection#add"]');if(n&&e.element.contains(n))return t.preventDefault(),void e._handleAddOnce();var r=t.target.closest('.js-collection-remove,[data-action~="click->form-collection#remove"]');r&&e.element.contains(r)&&(t.preventDefault(),e.remove({currentTarget:r}))},this.element.addEventListener("click",this._onClick,{passive:!1}),this._onBeforeCache=function(){return e.disconnect()},this._onBeforeRender=function(){return e.disconnect()},this._onPageShow=function(t){t.persisted&&e.disconnect()},document.addEventListener("turbo:before-cache",this._onBeforeCache),document.addEventListener("turbo:before-render",this._onBeforeRender),window.addEventListener("pageshow",this._onPageShow),this.renumber())}},{key:"disconnect",value:function(){this._onClick&&this.element.removeEventListener("click",this._onClick),this._onBeforeCache&&document.removeEventListener("turbo:before-cache",this._onBeforeCache),this._onBeforeRender&&document.removeEventListener("turbo:before-render",this._onBeforeRender),this._onPageShow&&window.removeEventListener("pageshow",this._onPageShow),this._onClick=null,this._onBeforeCache=null,this._onBeforeRender=null,this._onPageShow=null,this._bound=!1,this._connected=!1}},{key:"_handleAddOnce",value:function(){var e=this;if(!this._clickLocked){this._clickLocked=!0;try{this.add()}finally{setTimeout(function(){e._clickLocked=!1},0)}}}},{key:"add",value:function(){var e=this.prototypeTarget.content.cloneNode(!0);this._replaceInFragment(e,"__name__",String(this.indexValue++));var t=e.querySelector("tr[data-collection-item]")||e.firstElementChild;t&&(this.listTarget.appendChild(t),this.renumber())}},{key:"remove",value:function(e){var t=e.currentTarget.closest("[data-collection-item]");t&&t.remove(),this.renumber()}},{key:"renumber",value:function(){this.listTarget.querySelectorAll("[data-collection-item] [data-collection-counter]").forEach(function(e,t){return e.textContent=String(t+1)})}},{key:"_replaceInFragment",value:function(e,t,n){for(var r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT|NodeFilter.SHOW_TEXT),o=[];r.nextNode();)o.push(r.currentNode);o.forEach(function(e){if(e.nodeType===Node.TEXT_NODE)e.nodeValue=e.nodeValue.replaceAll(t,n);else if(e.nodeType===Node.ELEMENT_NODE)for(var r=0,o=Array.from(e.attributes);r<o.length;r++){var a=o[r];a.value.includes(t)&&e.setAttribute(a.name,a.value.replaceAll(t,n))}})}}],r&&o(n.prototype,r),i&&o(n,i),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r,i}(n(52891).xI);s(u,"targets",["list","prototype"]),s(u,"values",{index:Number})},29090:(e,t,n)=>{var r={"./csrf_protection_controller.js":87502,"./form_collection_controller.js":5411,"./hello_controller.js":74842};function o(e){var t=a(e);return n(t)}function a(e){if(!n.o(r,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return r[e]}o.keys=function(){return Object.keys(r)},o.resolve=a,e.exports=o,o.id=29090},30163:(e,t,n)=>{"use strict";n(51629),n(26099),n(98992),n(3949),n(23500),(0,n(3066).E)(n(29090)),n(887),n(52675),n(89463),n(28706),n(2008),n(50113),n(23418),n(74423),n(48598),n(62062),n(44114),n(34782),n(1688),n(60739),n(23288),n(62010),n(33110),n(3362),n(21699),n(47764),n(11392),n(54520),n(72577),n(81454),n(76031),n(47154);var r=n(67363),o=n(97950),a=n(90666),i=n(38680),c=n(39612),l=n(89336),s=n(95093),d=n.n(s),u=(n(2259),n(45700),n(16280),n(76918),n(23792),n(89572),n(2892),n(67945),n(84185),n(83851),n(81278),n(79432),n(73772),n(62953),n(77853),n(43335)),m=n.n(u);function f(e){return f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},f(e)}function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function v(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(Object(n),!0).forEach(function(t){y(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function y(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=f(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=f(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==f(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}d().locale("de");var h={locale:{format:"DD.MM.YYYY",separator:" - ",applyLabel:"Übernehmen",cancelLabel:"Abbrechen",fromLabel:"Von",toLabel:"Bis",customRangeLabel:"Benutzerdefiniert",weekLabel:"W",daysOfWeek:d().weekdaysMin(),monthNames:d().months(),firstDay:1},autoUpdateInput:!0,showDropdowns:!0,autoApply:!1},g={singleDate:v(v({},h),{},{singleDatePicker:!0,timePicker:!1,locale:v(v({},h.locale),{},{format:"DD.MM.YYYY"})}),singleDateTime:v(v({},h),{},{singleDatePicker:!0,timePicker:!0,timePicker24Hour:!0,timePickerIncrement:15,locale:v(v({},h.locale),{},{format:"DD.MM.YYYY HH:mm"})}),dateRange:v(v({},h),{},{singleDatePicker:!1,timePicker:!1,locale:v(v({},h.locale),{},{format:"DD.MM.YYYY"})}),dateTimeRange:v(v({},h),{},{singleDatePicker:!1,timePicker:!0,timePicker24Hour:!0,timePickerIncrement:15,locale:v(v({},h.locale),{},{format:"DD.MM.YYYY HH:mm"})})},b=new WeakMap;function j(e){var t=b.get(e);if(t&&"function"==typeof t.remove)try{t.remove()}catch(e){console.warn("Error destroying picker:",e)}b.delete(e)}function E(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"dateTimeRange",n="string"==typeof e?document.querySelector(e):e;if(!n)return console.warn("Daterangepicker: Element not found",e),null;j(n);var r=new(m())(n,g[t]);return b.set(n,r),r}function k(e){var t="string"==typeof e?document.querySelector(e):e;return b.get(t)}var w,D,I,S=[],T=new Date,B=[],_=null,P="global",x={"#4285f4":"c-blue-500","#0f9d58":"c-green-500","#f4b400":"c-orange-500","#db4437":"c-red-500","#ab47bc":"c-purple-500","#00acc1":"c-cyan-500","#ff7043":"c-deep-orange-500","#9e9e9e":"c-grey-500"};function L(e,t){var n=document.getElementById("day-events-list");if(n){var r=new Date(e);r.setHours(0,0,0,0);var o=t.filter(function(e){var t=new Date(e.start);t.setHours(0,0,0,0);var n=e.end?new Date(e.end):new Date(e.start);return n.setHours(0,0,0,0),t.getTime()<=r.getTime()&&n.getTime()>=r.getTime()});if(0===o.length)n.innerHTML='\n            <li class="bdB peers ai-c jc-sb fxw-nw p-20">\n                <div class="c-grey-600">\n                    <span>Keine Termine an diesem Tag</span>\n                </div>\n            </li>\n        ';else{var a=new Date;n.innerHTML=o.map(function(e){var t=e.color||e.backgroundColor||"#4285f4",n=x[t]||"c-blue-500",r=e.start&&!e.allDay?new Date(e.start).toLocaleTimeString("de-DE",{hour:"2-digit",minute:"2-digit",hour12:!1}):"",o=new Date(e.start).toLocaleDateString("de-DE",{day:"2-digit",month:"short"}),i=(e.end?new Date(e.end):new Date(e.start))<a,c=i?'style="text-decoration: line-through;"':"";return'\n                <li class="bdB peers ai-c jc-sb fxw-nw" '.concat(i?'style="opacity: 0.5;"':"",'>\n                    <a class="td-n p-20 peers fxw-nw mR-20 peer-greed c-grey-900 event-item"\n                       href="javascript:void(0);"\n                       data-event-id="').concat(e.id,'">\n                        <div class="peer mR-15">\n                            <i class="fa fa-fw fa-clock-o ').concat(n,'"></i>\n                        </div>\n                        <div class="peer">\n                            <span class="fw-600" ').concat(c,">").concat(e.title,'</span>\n                            <div class="c-grey-600">\n                                <span class="c-grey-700">').concat(o).concat(r?" - "+r+" Uhr":"","</span>\n                                ").concat(e.allDay?'<i class="mL-5">(Ganztägig)</i>':"","\n                                ").concat(e.description?"<br><i>"+e.description+"</i>":"","\n                            </div>\n                        </div>\n                    </a>\n                    ").concat(e.extendedProps&&["private","cleaning","technician"].includes(e.extendedProps.type)?'\n                    <div class="peers mR-15">\n                        <div class="peer">\n                            <a href="javascript:void(0);"\n                               class="td-n c-deep-purple-500 cH-blue-500 fsz-md p-5 edit-event"\n                               data-event-id="'.concat(e.id,'">\n                                <i class="ti-pencil"></i>\n                            </a>\n                        </div>\n                        <div class="peer">\n                            <a href="javascript:void(0);"\n                               class="td-n c-red-500 cH-blue-500 fsz-md p-5 delete-event"\n                               data-event-id="').concat(e.id,'">\n                                <i class="ti-trash"></i>\n                            </a>\n                        </div>\n                    </div>'):"","\n                </li>\n            ")}).join(""),n.querySelectorAll(".event-item, .edit-event").forEach(function(e){e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("data-event-id"),n=S.find(function(e){return e.id==t});n&&R(null,n)})}),n.querySelectorAll(".delete-event").forEach(function(e){e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("data-event-id");confirm("Möchten Sie diesen Termin wirklich löschen?")&&F(t)})})}}}function O(){var e=document.getElementById("appointmentModal");e&&(w=new l.aF(e));var t=document.getElementById("productionEventModal");t&&(D=new l.aF(t)),B.forEach(function(e){return e.destroy()}),B=[],_&&(_.destroy(),_=null),document.querySelectorAll(".filter-checkbox").forEach(function(e){var t=e.cloneNode(!0);e.parentNode.replaceChild(t,e),t.addEventListener("change",C)}),document.querySelectorAll('input[name="calendarView"]').forEach(function(e){var t=e.cloneNode(!0);e.parentNode.replaceChild(t,e),t.addEventListener("change",function(){var e,t,n;P=this.value,e=this.value,t=document.getElementById("globalCalendarContainer"),n=document.getElementById("roomCalendarsContainer"),"global"===e?(t&&(t.style.display="block"),n&&(n.style.display="none"),_&&(_.updateSize(),_.refetchEvents())):(t&&(t.style.display="none"),n&&(n.style.display="block"),B.forEach(function(e){e.updateSize(),e.refetchEvents()}))})});var n=document.getElementById("syncApiBtn");if(n){var s=n.cloneNode(!0);n.parentNode.replaceChild(s,n),s.addEventListener("click",A)}var d=window.innerWidth<=767;!function(e){var t=document.getElementById("global-calendar");if(!t)return;_=new r.Vv(t,{plugins:[o.A,a.A,i.Ay],initialView:e?"timeGridDay":"dayGridMonth",locale:c.A,timeZone:"Europe/Berlin",firstDay:1,headerToolbar:e?{left:"prev,next",center:"title",right:"today"}:{left:"prev,next today",center:"title",right:"dayGridMonth,timeGridWeek,timeGridDay"},slotMinTime:"06:00:00",slotMaxTime:"22:00:00",allDaySlot:!0,height:700,eventTimeFormat:{hour:"2-digit",minute:"2-digit",hour12:!1,meridiem:!1},eventDisplay:"block",events:function(e,t,n){var r=Array.from(document.querySelectorAll(".filter-checkbox:checked")).map(function(e){return e.value}).join(","),o="/dashboard/events?roomId=&start=".concat(e.startStr,"&end=").concat(e.endStr,"&filters=").concat(r);fetch(o).then(function(e){return e.json()}).then(function(e){return t(e)}).catch(function(e){console.error("Error loading events:",e),n(e)})},dateClick:function(e){R(e.dateStr,null,e.date,null)},eventClick:function(e){var t=e.event.extendedProps.type;if("production_event"===t){var n=e.event.extendedProps.productionEventId;n&&Y(n)}else["private","cleaning","technician","production"].includes(t)?R(null,e.event):alert(e.event.title+"\n"+(e.event.extendedProps.description||""))},eventDidMount:function(e){var t=new Date;(e.event.end||e.event.start)<t&&(e.el.style.opacity="0.5",e.el.style.textDecoration="line-through")},editable:!1}),_.render()}(d),function(e){document.querySelectorAll(".room-calendar").forEach(function(t){var n=function(e,t){var n=e.dataset.roomId||"",l=new r.Vv(e,{plugins:[o.A,a.A,i.Ay],initialView:t?"timeGridDay":"dayGridMonth",locale:c.A,timeZone:"Europe/Berlin",firstDay:1,headerToolbar:t?{left:"prev,next",center:"title",right:"today"}:{left:"prev,next today",center:"title",right:"dayGridMonth,timeGridWeek,timeGridDay"},slotMinTime:"06:00:00",slotMaxTime:"22:00:00",allDaySlot:!0,height:600,eventTimeFormat:{hour:"2-digit",minute:"2-digit",hour12:!1,meridiem:!1},eventDisplay:"block",events:function(e,t,r){var o=Array.from(document.querySelectorAll(".filter-checkbox:checked")).map(function(e){return e.value}).join(","),a="/dashboard/events?roomId=".concat(n,"&start=").concat(e.startStr,"&end=").concat(e.endStr,"&filters=").concat(o);fetch(a).then(function(e){return e.json()}).then(function(e){return t(e)}).catch(function(e){console.error("Error loading events:",e),r(e)})},dateClick:function(e){R(e.dateStr,null,e.date,n)},eventClick:function(e){var t=e.event.extendedProps.type;if("production_event"===t){var n=e.event.extendedProps.productionEventId;n&&Y(n)}else["private","cleaning","technician","production"].includes(t)?R(null,e.event):alert(e.event.title+"\n"+(e.event.extendedProps.description||""))},eventDidMount:function(e){var t=new Date;(e.event.end||e.event.start)<t&&(e.el.style.opacity="0.5",e.el.style.textDecoration="line-through")},editable:!1});return l.render(),l}(t,e);B.push(n)})}(d),fetch("/appointments/all").then(function(e){return e.json()}).then(function(e){S=e,function(e){T=new Date(e),e.getDate();var t=e.toLocaleDateString("de-DE",{weekday:"long"}),n=e.toLocaleDateString("de-DE",{day:"2-digit",month:"2-digit",year:"numeric"}),r=document.getElementById("day-number-text");r&&(r.textContent=n);var o=document.getElementById("day-suffix");o&&(o.textContent="");var a=document.getElementById("day-name");a&&(a.textContent=t.charAt(0).toUpperCase()+t.slice(1))}(T),L(T,e)}).catch(function(e){return console.error(e)}),function(){var e=document.getElementById("saveAppointmentBtn");if(e){var t=e.cloneNode(!0);e.parentNode.replaceChild(t,e),t.addEventListener("click",q)}var n=document.getElementById("deleteAppointmentBtn");if(n){var r=n.cloneNode(!0);n.parentNode.replaceChild(r,n),r.addEventListener("click",V)}var o=document.getElementById("appointmentAllDay");if(o){var a=o.cloneNode(!0);o.parentNode.replaceChild(a,o),a.addEventListener("change",z)}document.querySelectorAll(".type-radio").forEach(function(e){var t=e.cloneNode(!0);e.parentNode.replaceChild(t,e),t.addEventListener("change",H)});var i=document.getElementById("add-appointment-btn");if(i){var c=i.cloneNode(!0);i.parentNode.replaceChild(c,i),c.addEventListener("click",function(){R(T.toISOString().split("T")[0])})}}()}function A(){var e=document.getElementById("syncApiBtn");if(e){var t=e.innerHTML;e.disabled=!0,e.innerHTML='<i class="ti-reload spin"></i> Synchronisiere...';var n=document.createElement("style");n.textContent="\n        .spin {\n            animation: spin 1s linear infinite;\n        }\n        @keyframes spin {\n            from { transform: rotate(0deg); }\n            to { transform: rotate(360deg); }\n        }\n    ",document.querySelector("style[data-sync-spinner]")||(n.setAttribute("data-sync-spinner","true"),document.head.appendChild(n)),fetch("/dashboard/sync-api",{method:"POST",headers:{"Content-Type":"application/json"}}).then(function(e){return e.json()}).then(function(n){e.disabled=!1,e.innerHTML=t,n.success?(M("success",n.message),C(),fetch("/appointments/all").then(function(e){return e.json()}).then(function(e){S=e,L(T,e)})):M("error",n.message||"Fehler bei der Synchronisation")}).catch(function(n){e.disabled=!1,e.innerHTML=t,console.error("Sync error:",n),M("error","Netzwerkfehler bei der Synchronisation")})}}function M(e,t){var n=document.createElement("div");n.className="alert alert-".concat("success"===e?"success":"danger"," alert-dismissible fade show position-fixed"),n.style.cssText="top: 20px; right: 20px; z-index: 9999; max-width: 400px;",n.innerHTML="\n        ".concat(t,'\n        <button type="button" class="btn-close" data-bs-dismiss="alert"></button>\n    '),document.body.appendChild(n),setTimeout(function(){n.remove()},5e3)}function C(){"global"===P?_&&_.refetchEvents():B.forEach(function(e){return e.refetchEvents()})}function N(){C()}function Y(e){var t=document.getElementById("productionEventModalBody"),n=document.getElementById("productionEventModalTitle"),r=document.getElementById("editProductionEventBtn");D&&(t.innerHTML='\n        <div class="text-center p-5">\n            <div class="spinner-border text-primary" role="status">\n                <span class="visually-hidden">Laden...</span>\n            </div>\n        </div>\n    ',D.show(),fetch("/dashboard/production-event/".concat(e,"/details")).then(function(e){return e.json()}).then(function(e){if(e.error)t.innerHTML='<div class="alert alert-danger">'.concat(e.error,"</div>");else{var o=e.event,a=e.production;n.textContent=a?a.title:"Veranstaltung",r&&(r.href="/production-event/".concat(o.id,"/edit"),r.style.display="inline-block");var i="";if(a&&a.postThumbnailUrl&&(i+='\n                    <div class="text-center mb-4">\n                        <img src="'.concat(a.postThumbnailUrl,'"\n                             alt="').concat(a.title,'"\n                             class="img-fluid rounded"\n                             style="max-height: 300px; object-fit: cover;">\n                    </div>\n                ')),i+='<div class="row mb-4">',i+='<div class="col-md-6">',i+='<h6 class="text-muted mb-3">Veranstaltungsinformationen</h6>',o.date&&(i+='\n                    <div class="mb-2">\n                        <strong><i class="ti-calendar me-2"></i>Datum:</strong>\n                        '.concat(o.date,"\n                    </div>\n                ")),o.timeFrom&&(i+='\n                    <div class="mb-2">\n                        <strong><i class="ti-time me-2"></i>Uhrzeit:</strong>\n                        '.concat(o.timeFrom).concat(o.timeTo?" - "+o.timeTo:""," Uhr\n                    </div>\n                ")),o.room&&(i+='\n                    <div class="mb-2">\n                        <strong><i class="ti-location-pin me-2"></i>Raum:</strong>\n                        '.concat(o.room,"\n                    </div>\n                ")),o.status){var c=o.status.includes("Aktiv")?"success":"secondary";i+='\n                    <div class="mb-2">\n                        <strong>Status:</strong>\n                        <span class="badge bg-'.concat(c,'">').concat(o.status,"</span>\n                    </div>\n                ")}if(i+="</div>",i+='<div class="col-md-6">',i+='<h6 class="text-muted mb-3">Plätze & Reservierungen</h6>',null!==o.quota&&(i+='\n                    <div class="mb-2">\n                        <strong><i class="ti-package me-2"></i>Kontingent:</strong>\n                        '.concat(o.quota," Plätze\n                    </div>\n                ")),null!==o.incomingTotal&&(i+='\n                    <div class="mb-2">\n                        <strong><i class="ti-check me-2"></i>Reserviert:</strong>\n                        '.concat(o.incomingTotal,"\n                    </div>\n                ")),null!==o.freeSeats){var l=o.freeSeats>10?"success":o.freeSeats>0?"warning":"danger";i+='\n                    <div class="mb-2">\n                        <strong><i class="ti-ticket me-2"></i>Frei:</strong>\n                        <span class="badge bg-'.concat(l,'">').concat(o.freeSeats,"</span>\n                    </div>\n                ")}if(i+="</div>",i+="</div>",o.prices&&o.prices.length>0&&(i+='\n                    <div class="mb-4">\n                        <h6 class="text-muted mb-3">Preise</h6>\n                        <div class="table-responsive">\n                            <table class="table table-sm table-bordered">\n                                <thead class="table-light">\n                                    <tr>\n                                        <th>Kategorie</th>\n                                        <th>Preis</th>\n                                        <th>Reservierungen</th>\n                                    </tr>\n                                </thead>\n                                <tbody>\n                ',o.prices.forEach(function(e){i+="\n                        <tr>\n                            <td>".concat(e.categoryLabel||"-","</td>\n                            <td><strong>").concat(e.priceLabel||"0","€</strong></td>\n                            <td>").concat(e.incomingReservations||0,"</td>\n                        </tr>\n                    ")}),i+="\n                                </tbody>\n                            </table>\n                        </div>\n                    </div>\n                "),o.categories&&o.categories.length>0&&(i+='\n                    <div class="mb-4">\n                        <h6 class="text-muted mb-2">Hinweise</h6>\n                        <div>\n                ',o.categories.forEach(function(e){var t="ausverkauft-event"===e.slug?"danger":"info";i+='<span class="badge bg-'.concat(t,' me-2">').concat(e.name,"</span>")}),i+="\n                        </div>\n                    </div>\n                "),o.reservationNote){var s=o.reservationNote.startsWith("http");i+='\n                    <div class="mb-4">\n                        <h6 class="text-muted mb-2">Reservierung</h6>\n                        '.concat(s?'<a href="'.concat(o.reservationNote,'" target="_blank" class="btn btn-sm btn-primary">\n                                <i class="ti-new-window me-1"></i>Zur Reservierung\n                            </a>'):'<p class="mb-0">'.concat(o.reservationNote,"</p>"),"\n                    </div>\n                ")}a&&a.contentHtml&&(i+='\n                    <div class="mt-4 pt-4 border-top">\n                        <h6 class="text-muted mb-3">Über die Produktion</h6>\n                        <div class="production-content">\n                            '.concat(a.contentHtml,"\n                        </div>\n                    </div>\n                ")),a&&a.permalink&&(i+='\n                    <div class="mt-3">\n                        <a href="'.concat(a.permalink,'" target="_blank" class="btn btn-sm btn-secondary">\n                            <i class="ti-link me-1"></i>Zur Website\n                        </a>\n                    </div>\n                ')),t.innerHTML=i}}).catch(function(e){console.error("Error loading event details:",e),t.innerHTML='\n                <div class="alert alert-danger">\n                    Fehler beim Laden der Event-Details.\n                </div>\n            '}))}function H(){var e=document.querySelector('input[name="appointmentType"]:checked'),t=e?e.value:"private",n=document.getElementById("cleaningSelectGroup"),r=document.getElementById("technicianSelectGroup"),o=document.getElementById("productionSelectGroup"),a=document.getElementById("titleGroup"),i=document.getElementById("appointmentTitle");n&&(n.style.display="cleaning"===t?"block":"none"),r&&(r.style.display="technician"===t?"block":"none"),o&&(o.style.display="production"===t?"block":"none"),a&&(a.style.display="block",i&&i.setAttribute("required","required"))}function R(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,o=document.getElementById("appointmentModalLabel"),a=document.getElementById("deleteAppointmentBtn"),i=document.getElementById("appointmentRoom"),c=document.getElementById("appointmentCleaning"),l=document.getElementById("appointmentTechnician"),s=document.getElementById("appointmentProduction"),u=document.getElementById("appointmentTitle"),m=document.getElementById("appointmentDescription"),f=document.getElementById("appointmentDateRange");i&&(i.value=""),c&&(c.value=""),l&&(l.value=""),s&&(s.value=""),u&&(u.value=""),m&&(m.value="");var p=document.getElementById("typePrivate");p&&(p.checked=!0,H());var v=E(f,"dateTimeRange");if(t){var y,h;o.textContent="Termin bearbeiten",a.style.display="inline-block";var g=String(t.id),b=g;g.includes("_")&&(b=g.split("_")[1]),document.getElementById("appointmentId").value=b;var j=(null===(y=t.extendedProps)||void 0===y?void 0:y.originalTitle)||t.title;u&&(u.value=j),m&&(m.value=(null===(h=t.extendedProps)||void 0===h?void 0:h.description)||""),t.extendedProps&&t.extendedProps.roomId&&i&&(i.value=t.extendedProps.roomId);var k=t.extendedProps.type||"private",D=document.querySelector('input[name="appointmentType"][value="'.concat(k,'"]'));D&&(D.checked=!0,H()),"cleaning"===k&&t.extendedProps.cleaningId&&c&&(c.value=t.extendedProps.cleaningId),"technician"===k&&t.extendedProps.technicianId&&l&&(l.value=t.extendedProps.technicianId),"production"===k&&t.extendedProps.productionId&&s&&(s.value=t.extendedProps.productionId);var I=d()(t.start),S=d()(t.end||t.start);t.allDay&&S.subtract(1,"days"),v.setStartDate(I),v.setEndDate(S),document.getElementById("appointmentAllDay").checked=t.allDay,z({target:{checked:t.allDay}})}else{var T,B;o.textContent="Neuer Termin",a.style.display="none",document.getElementById("appointmentId").value="",r&&i&&(i.value=r),n?(T=d()(n),B=d()(n).add(1,"hours"),document.getElementById("appointmentAllDay").checked=!1):((T=e?d()(e):d()()).hours(9).minutes(0).seconds(0),B=d()(T).add(1,"hours"),document.getElementById("appointmentAllDay").checked=!1),v.setStartDate(T),v.setEndDate(B),z({target:{checked:!1}})}w&&w.show()}function z(e){var t=document.getElementById("appointmentDateRange");if(t){var n=k(t);if(n){if(e.target.checked){var r=n.startDate,o=n.endDate;n.timePicker=!1,n.locale.format="DD.MM.YYYY",n.setStartDate(r.startOf("day")),n.setEndDate(o.startOf("day"))}else n.timePicker=!0,n.timePicker24Hour=!0,n.timePickerIncrement=15,n.locale.format="DD.MM.YYYY HH:mm";n.updateView()}}}function q(){var e=document.getElementById("appointmentId").value,t=document.getElementById("appointmentTitle").value,n=document.getElementById("appointmentDescription").value,r=document.getElementById("appointmentRoom")?document.getElementById("appointmentRoom").value:null,o=document.querySelector('input[name="appointmentType"]:checked'),a=o?o.value:"private",i=null,c=null,l=null;"cleaning"===a?(i=document.getElementById("appointmentCleaning").value,t||(t="Reinigung")):"technician"===a?(c=document.getElementById("appointmentTechnician").value,t||(t="Techniker")):"production"===a&&(l=document.getElementById("appointmentProduction").value,t||(t="Produktion"));var s=document.getElementById("appointmentAllDay").checked,d=document.getElementById("appointmentDateRange");if(t){var u=k(d);if(u&&u.startDate&&u.endDate){var m,f,p=u.startDate,v=u.endDate;s?(m=p.format("YYYY-MM-DD")+"T00:00:00",f=v.clone().add(1,"days").format("YYYY-MM-DD")+"T00:00:00"):(m=p.format("YYYY-MM-DDTHH:mm:ss"),f=v.format("YYYY-MM-DDTHH:mm:ss"));var y={title:t,description:n,start:m,end:f,allDay:s,roomId:r,cleaningId:i,technicianId:c,productionId:l},h=e?"/appointment/".concat(e,"/edit"):"/appointment/create";fetch(h,{method:e?"PUT":"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(y)}).then(function(e){return e.json()}).then(function(e){e.success?(w.hide(),N(),fetch("/appointments/all").then(function(e){return e.json()}).then(function(e){S=e,L(T,e)})):alert("Fehler beim Speichern.")}).catch(function(e){return console.error(e)})}else alert("Bitte wählen Sie einen Zeitraum aus.")}else alert("Bitte geben Sie einen Titel ein.")}function F(e){var t=String(e),n=t;t.includes("_")&&(n=t.split("_")[1]),fetch("/appointment/".concat(n,"/delete"),{method:"DELETE"}).then(function(e){return e.json()}).then(function(e){e.success?(w._isShown&&w.hide(),N(),fetch("/appointments/all").then(function(e){return e.json()}).then(function(e){S=e,L(T,e)})):alert("Fehler beim Löschen.")})}function V(){var e=document.getElementById("appointmentId").value;e&&confirm("Wirklich löschen?")&&F(e)}function G(){var e=document.getElementById("keyManagementModal");if(e){I=new l.aF(e),document.querySelectorAll(".key-item-btn").forEach(function(e){var t=e.cloneNode(!0);e.parentNode.replaceChild(t,e),t.addEventListener("click",function(){!function(e){if(!e)return;var t=e.dataset.keyId,n=e.dataset.keyName,r=e.dataset.keyStatus,o=document.getElementById("keyId");o&&(o.value=t);var a=document.getElementById("modalKeyNameTitle");a&&(a.textContent=n);var i=document.getElementById("keyStatus");i&&(i.value=r,i.dispatchEvent(new Event("change")));var c=document.getElementById("keyBorrowDate"),l=document.getElementById("keyReturnDate");if(c){var s=E(c,"singleDateTime"),u=e.dataset.borrowDate;u&&s&&s.setStartDate(d()(u))}if(l){var m=E(l,"singleDateTime"),f=e.dataset.returnDate;f&&m&&m.setStartDate(d()(f))}var p=e.dataset.userId,v=e.dataset.techId,y=e.dataset.prodId,h=e.dataset.cleanId,g=document.getElementById("borrowerType");if(g){var b=document.getElementById("userId");b&&(b.value="");var j=document.getElementById("technicianId");j&&(j.value="");var k=document.getElementById("productionId");k&&(k.value="");var w=document.getElementById("cleaningId");w&&(w.value=""),p&&b?(g.value="user",b.value=p):v&&j?(g.value="technician",j.value=v):y&&k?(g.value="production",k.value=y):h&&w?(g.value="cleaning",w.value=h):g.value="",g.dispatchEvent(new Event("change"))}I&&I.show()}(this)})});var t=document.getElementById("keyStatus");if(t){var n=t.cloneNode(!0);t.parentNode.replaceChild(n,t),n.addEventListener("change",function(){var e=document.getElementById("borrowDetails");"borrowed"===this.value?e&&(e.style.display="block"):e&&(e.style.display="none")})}var r=document.getElementById("borrowerType");if(r){var o=r.cloneNode(!0);r.parentNode.replaceChild(o,r),o.addEventListener("change",function(){if(document.querySelectorAll(".borrower-select").forEach(function(e){return e.style.display="none"}),this.value){var e=this.value+"SelectDiv",t=document.getElementById(e);t&&(t.style.display="block")}})}var a=document.getElementById("saveKeyBtn");if(a){var i=a.cloneNode(!0);a.parentNode.replaceChild(i,a),i.addEventListener("click",U)}}}function U(){var e=document.getElementById("keyId"),t=document.getElementById("keyStatus");if(e&&t){var n=e.value,r=t.value,o=function(e){var t=document.getElementById(e);return t?t.value:null},a=document.getElementById("keyBorrowDate"),i=document.getElementById("keyReturnDate"),c=null,l=null;if(a){var s=k(a);s&&s.startDate&&(c=s.startDate.format("YYYY-MM-DD HH:mm:ss"))}if(i){var d=k(i);d&&d.startDate&&(l=d.startDate.format("YYYY-MM-DD HH:mm:ss"))}var u={status:r,userId:o("userId"),technicianId:o("technicianId"),productionId:o("productionId"),cleaningId:o("cleaningId"),borrowDate:c,returnDate:l};fetch("/dashboard/key/".concat(n,"/update"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(u)}).then(function(e){e.ok?(I.hide(),window.location.reload()):alert("Fehler beim Speichern")}).catch(function(e){return console.error(e)})}}document.addEventListener("DOMContentLoaded",function(){O(),G()}),document.addEventListener("turbo:render",function(){O(),G()});var W=n(75194);n(63742);function Z(){document.querySelectorAll("table.mcDataTable").forEach(function(e){e.dataset.dtInit||(new W.A(e,{responsive:!0,pageLength:10,lengthMenu:[10,25,50,100],language:{search:"Suchen:",lengthMenu:"_MENU_ pro Seite",info:"Zeige _START_–_END_ von _TOTAL_",zeroRecords:"Keine Einträge gefunden",infoEmpty:"Keine Einträge verfügbar"}}),e.dataset.dtInit="1")})}document.addEventListener("DOMContentLoaded",Z),document.addEventListener("turbo:render",Z);var K=n(92354);function J(){document.querySelectorAll(".tom-select").forEach(function(e){"1"!==e.dataset.tomSelectInitialized&&(e.dataset.tomSelectInitialized="1",e.tomselect&&"function"==typeof e.tomselect.destroy&&e.tomselect.destroy(),new K.A(e,{plugins:["remove_button"],create:!1,maxItems:null,placeholder:e.getAttribute("data-placeholder")||"Bitte auswählen"}))})}function X(){var e=document.querySelector("#production_type"),t=document.getElementById("group-fields"),n=document.getElementById("individual-fields");function r(){var r=e.value;console.log("toggleFields",r),t.style.display="none",n.style.display="none","group"===r?t.style.display="block":"individual"===r&&(n.style.display="block")}e&&t&&n&&(e._productionTypeToggleListener&&e.removeEventListener("change",e._productionTypeToggleListener),e._productionTypeToggleListener=r,e.addEventListener("change",r),r())}function $(){J(),X(),document.querySelectorAll('[data-daterangepicker="single-date"]').forEach(function(e){j(e);var t=new(m())(e,g.singleDate);b.set(e,t)}),document.querySelectorAll('[data-daterangepicker="single-datetime"]').forEach(function(e){j(e);var t=new(m())(e,g.singleDateTime);b.set(e,t)}),document.querySelectorAll('[data-daterangepicker="date-range"]').forEach(function(e){j(e);var t=new(m())(e,g.dateRange);b.set(e,t)}),document.querySelectorAll('[data-daterangepicker="datetime-range"]').forEach(function(e){j(e);var t=new(m())(e,g.dateTimeRange);b.set(e,t)})}document.addEventListener("DOMContentLoaded",$),document.addEventListener("turbo:load",$),document.addEventListener("turbo:render",$),document.addEventListener("turbo:visit",function(){J(),window.AdminatorApp&&"function"==typeof window.AdminatorApp.init&&window.AdminatorApp.refresh(),X()}),window.__confirmDeleteBound||(window.__confirmDeleteBound=!0,document.addEventListener("click",function(e){if(0===e.button){var t=e.target.closest("[data-confirm], [data-confirm-message], .confirmRemoveItem");if(t&&document.contains(t)){var n=t.getAttribute("data-confirm-message")||t.getAttribute("data-confirm")||"Eintrag wirklich löschen?";if(!window.confirm(n))return e.preventDefault(),void e.stopImmediatePropagation();if("A"===t.tagName){var r=t.getAttribute("href");r&&(e.preventDefault(),e.stopImmediatePropagation(),window.Turbo&&"function"==typeof window.Turbo.visit?window.Turbo.visit(r):window.location.assign(r))}}}},!0))},35358:(e,t,n)=>{var r={"./af":25177,"./af.js":25177,"./ar":61509,"./ar-dz":41488,"./ar-dz.js":41488,"./ar-kw":58676,"./ar-kw.js":58676,"./ar-ly":42353,"./ar-ly.js":42353,"./ar-ma":24496,"./ar-ma.js":24496,"./ar-ps":6947,"./ar-ps.js":6947,"./ar-sa":82682,"./ar-sa.js":82682,"./ar-tn":89756,"./ar-tn.js":89756,"./ar.js":61509,"./az":95533,"./az.js":95533,"./be":28959,"./be.js":28959,"./bg":47777,"./bg.js":47777,"./bm":54903,"./bm.js":54903,"./bn":61290,"./bn-bd":17357,"./bn-bd.js":17357,"./bn.js":61290,"./bo":31545,"./bo.js":31545,"./br":11470,"./br.js":11470,"./bs":44429,"./bs.js":44429,"./ca":7306,"./ca.js":7306,"./cs":56464,"./cs.js":56464,"./cv":73635,"./cv.js":73635,"./cy":64226,"./cy.js":64226,"./da":93601,"./da.js":93601,"./de":77853,"./de-at":26111,"./de-at.js":26111,"./de-ch":54697,"./de-ch.js":54697,"./de.js":77853,"./dv":60708,"./dv.js":60708,"./el":54691,"./el.js":54691,"./en-au":53872,"./en-au.js":53872,"./en-ca":28298,"./en-ca.js":28298,"./en-gb":56195,"./en-gb.js":56195,"./en-ie":66584,"./en-ie.js":66584,"./en-il":65543,"./en-il.js":65543,"./en-in":9033,"./en-in.js":9033,"./en-nz":79402,"./en-nz.js":79402,"./en-sg":43004,"./en-sg.js":43004,"./eo":32934,"./eo.js":32934,"./es":97650,"./es-do":20838,"./es-do.js":20838,"./es-mx":17730,"./es-mx.js":17730,"./es-us":56575,"./es-us.js":56575,"./es.js":97650,"./et":3035,"./et.js":3035,"./eu":3508,"./eu.js":3508,"./fa":119,"./fa.js":119,"./fi":90527,"./fi.js":90527,"./fil":95995,"./fil.js":95995,"./fo":52477,"./fo.js":52477,"./fr":85498,"./fr-ca":26435,"./fr-ca.js":26435,"./fr-ch":37892,"./fr-ch.js":37892,"./fr.js":85498,"./fy":37071,"./fy.js":37071,"./ga":41734,"./ga.js":41734,"./gd":70217,"./gd.js":70217,"./gl":77329,"./gl.js":77329,"./gom-deva":32124,"./gom-deva.js":32124,"./gom-latn":93383,"./gom-latn.js":93383,"./gu":95050,"./gu.js":95050,"./he":11713,"./he.js":11713,"./hi":43861,"./hi.js":43861,"./hr":26308,"./hr.js":26308,"./hu":90609,"./hu.js":90609,"./hy-am":17160,"./hy-am.js":17160,"./id":74063,"./id.js":74063,"./is":89374,"./is.js":89374,"./it":88383,"./it-ch":21827,"./it-ch.js":21827,"./it.js":88383,"./ja":23827,"./ja.js":23827,"./jv":89722,"./jv.js":89722,"./ka":41794,"./ka.js":41794,"./kk":27088,"./kk.js":27088,"./km":96870,"./km.js":96870,"./kn":84451,"./kn.js":84451,"./ko":63164,"./ko.js":63164,"./ku":98174,"./ku-kmr":6181,"./ku-kmr.js":6181,"./ku.js":98174,"./ky":78474,"./ky.js":78474,"./lb":79680,"./lb.js":79680,"./lo":15867,"./lo.js":15867,"./lt":45766,"./lt.js":45766,"./lv":69532,"./lv.js":69532,"./me":58076,"./me.js":58076,"./mi":41848,"./mi.js":41848,"./mk":30306,"./mk.js":30306,"./ml":73739,"./ml.js":73739,"./mn":99053,"./mn.js":99053,"./mr":86169,"./mr.js":86169,"./ms":73386,"./ms-my":92297,"./ms-my.js":92297,"./ms.js":73386,"./mt":77075,"./mt.js":77075,"./my":72264,"./my.js":72264,"./nb":22274,"./nb.js":22274,"./ne":8235,"./ne.js":8235,"./nl":92572,"./nl-be":43784,"./nl-be.js":43784,"./nl.js":92572,"./nn":54566,"./nn.js":54566,"./oc-lnc":69330,"./oc-lnc.js":69330,"./pa-in":29849,"./pa-in.js":29849,"./pl":94418,"./pl.js":94418,"./pt":79834,"./pt-br":48303,"./pt-br.js":48303,"./pt.js":79834,"./ro":24457,"./ro.js":24457,"./ru":82271,"./ru.js":82271,"./sd":1221,"./sd.js":1221,"./se":33478,"./se.js":33478,"./si":17538,"./si.js":17538,"./sk":5784,"./sk.js":5784,"./sl":46637,"./sl.js":46637,"./sq":86794,"./sq.js":86794,"./sr":45719,"./sr-cyrl":3322,"./sr-cyrl.js":3322,"./sr.js":45719,"./ss":56e3,"./ss.js":56e3,"./sv":41011,"./sv.js":41011,"./sw":40748,"./sw.js":40748,"./ta":11025,"./ta.js":11025,"./te":11885,"./te.js":11885,"./tet":28861,"./tet.js":28861,"./tg":86571,"./tg.js":86571,"./th":55802,"./th.js":55802,"./tk":59527,"./tk.js":59527,"./tl-ph":29231,"./tl-ph.js":29231,"./tlh":31052,"./tlh.js":31052,"./tr":85096,"./tr.js":85096,"./tzl":79846,"./tzl.js":79846,"./tzm":81765,"./tzm-latn":97711,"./tzm-latn.js":97711,"./tzm.js":81765,"./ug-cn":48414,"./ug-cn.js":48414,"./uk":16618,"./uk.js":16618,"./ur":57777,"./ur.js":57777,"./uz":57609,"./uz-latn":72475,"./uz-latn.js":72475,"./uz.js":57609,"./vi":21135,"./vi.js":21135,"./x-pseudo":64051,"./x-pseudo.js":64051,"./yo":82218,"./yo.js":82218,"./zh-cn":52648,"./zh-cn.js":52648,"./zh-hk":1632,"./zh-hk.js":1632,"./zh-mo":31541,"./zh-mo.js":31541,"./zh-tw":50304,"./zh-tw.js":50304};function o(e){var t=a(e);return n(t)}function a(e){if(!n.o(r,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return r[e]}o.keys=function(){return Object.keys(r)},o.resolve=a,e.exports=o,o.id=35358},35828:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});const r={"symfony--ux-turbo--turbo-core":n(96773).A}},74842:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>d});n(52675),n(89463),n(2259),n(45700),n(16280),n(76918),n(23792),n(89572),n(94170),n(2892),n(59904),n(84185),n(40875),n(63548),n(10287),n(26099),n(60825),n(47764),n(62953);function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,a(r.key),r)}}function a(e){var t=function(e,t){if("object"!=r(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var o=n.call(e,t||"default");if("object"!=r(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==r(t)?t:t+""}function i(e,t,n){return t=l(t),function(e,t){if(t&&("object"==r(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,c()?Reflect.construct(t,n||[],l(e).constructor):t.apply(e,n))}function c(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(c=function(){return!!e})()}function l(e){return l=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},l(e)}function s(e,t){return s=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},s(e,t)}var d=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),i(this,t,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&s(e,t)}(t,e),n=t,(r=[{key:"connect",value:function(){this.element.textContent="Hello Stimulus! Edit me in assets/controllers/hello_controller.js"}}])&&o(n.prototype,r),a&&o(n,a),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r,a}(n(52891).xI)},87502:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>l,generateCsrfHeaders:()=>i,generateCsrfToken:()=>a,removeCsrfToken:()=>c});n(76918),n(23792),n(62062),n(54743),n(11745),n(38309),n(16573),n(78100),n(77936),n(79432),n(26099),n(27495),n(90906),n(21489),n(48140),n(81630),n(72170),n(75044),n(69539),n(31694),n(89955),n(21903),n(91134),n(33206),n(44496),n(66651),n(12887),n(19369),n(66812),n(8995),n(31575),n(36072),n(88747),n(28845),n(29423),n(57301),n(373),n(86614),n(41405),n(37467),n(44732),n(33684),n(79577),n(98992),n(81454),n(42207),n(55815),n(64979),n(79739);var r=/^[-_a-zA-Z0-9]{4,22}$/,o=/^[-_/+a-zA-Z0-9]{24,}$/;function a(e){var t=e.querySelector('input[data-controller="csrf-protection"], input[name="_csrf_token"]');if(t){var n=t.getAttribute("data-csrf-protection-cookie-value"),a=t.value;if(!n&&r.test(a)&&(t.setAttribute("data-csrf-protection-cookie-value",n=a),t.defaultValue=a=btoa(String.fromCharCode.apply(null,(window.crypto||window.msCrypto).getRandomValues(new Uint8Array(18)))),t.dispatchEvent(new Event("change",{bubbles:!0}))),n&&o.test(a)){var i=n+"_"+a+"="+n+"; path=/; samesite=strict";document.cookie="https:"===window.location.protocol?"__Host-"+i+"; secure":i}}}function i(e){var t={},n=e.querySelector('input[data-controller="csrf-protection"], input[name="_csrf_token"]');if(!n)return t;var a=n.getAttribute("data-csrf-protection-cookie-value");return o.test(n.value)&&r.test(a)&&(t[a]=n.value),t}function c(e){var t=e.querySelector('input[data-controller="csrf-protection"], input[name="_csrf_token"]');if(t){var n=t.getAttribute("data-csrf-protection-cookie-value");if(o.test(t.value)&&r.test(n)){var a=n+"_"+t.value+"=0; path=/; samesite=strict; max-age=0";document.cookie="https:"===window.location.protocol?"__Host-"+a+"; secure":a}}}document.addEventListener("submit",function(e){a(e.target)},!0),document.addEventListener("turbo:submit-start",function(e){var t=i(e.detail.formSubmission.formElement);Object.keys(t).map(function(n){e.detail.formSubmission.fetchRequest.headers[n]=t[n]})}),document.addEventListener("turbo:submit-end",function(e){c(e.detail.formSubmission.formElement)});const l="csrf-protection-controller"}},e=>{e.O(0,[648],()=>{return t=30163,e(e.s=t);var t});e.O()}]);